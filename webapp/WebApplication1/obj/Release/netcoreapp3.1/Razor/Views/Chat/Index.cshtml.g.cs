#pragma checksum "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "2bcc48e0f612bcdd4d97e523d6e9a7c9e5988d49"
// <auto-generated/>
#pragma warning disable 1591
[assembly: global::Microsoft.AspNetCore.Razor.Hosting.RazorCompiledItemAttribute(typeof(AspNetCore.Views_Chat_Index), @"mvc.1.0.view", @"/Views/Chat/Index.cshtml")]
namespace AspNetCore
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Mvc;
    using Microsoft.AspNetCore.Mvc.Rendering;
    using Microsoft.AspNetCore.Mvc.ViewFeatures;
#nullable restore
#line 1 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\_ViewImports.cshtml"
using WebApplication1;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\_ViewImports.cshtml"
using WebApplication1.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
using ClassLibrary1.ViewModels;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
using ClassLibrary1.Models;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
using WebApplication1.Helper;

#line default
#line hidden
#nullable disable
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"2bcc48e0f612bcdd4d97e523d6e9a7c9e5988d49", @"/Views/Chat/Index.cshtml")]
    [global::Microsoft.AspNetCore.Razor.Hosting.RazorSourceChecksumAttribute(@"SHA1", @"729efaa87342638aecfe1a972ce9f9f8dff55b4c", @"/Views/_ViewImports.cshtml")]
    public class Views_Chat_Index : global::Microsoft.AspNetCore.Mvc.Razor.RazorPage<ClassLibrary1.ViewModels.ListaPorukaVM>
    {
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_0 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/js/jquery.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        private static readonly global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute __tagHelperAttribute_1 = new global::Microsoft.AspNetCore.Razor.TagHelpers.TagHelperAttribute("src", new global::Microsoft.AspNetCore.Html.HtmlString("~/SignalR/dist/browser/signalr.min.js"), global::Microsoft.AspNetCore.Razor.TagHelpers.HtmlAttributeValueStyle.DoubleQuotes);
        #line hidden
        #pragma warning disable 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperExecutionContext __tagHelperExecutionContext;
        #pragma warning restore 0649
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner __tagHelperRunner = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperRunner();
        #pragma warning disable 0169
        private string __tagHelperStringValueBuffer;
        #pragma warning restore 0169
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __backed__tagHelperScopeManager = null;
        private global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager __tagHelperScopeManager
        {
            get
            {
                if (__backed__tagHelperScopeManager == null)
                {
                    __backed__tagHelperScopeManager = new global::Microsoft.AspNetCore.Razor.Runtime.TagHelpers.TagHelperScopeManager(StartTagHelperWritingScope, EndTagHelperWritingScope);
                }
                return __backed__tagHelperScopeManager;
            }
        }
        private global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper;
        #pragma warning disable 1998
        public async override global::System.Threading.Tasks.Task ExecuteAsync()
        {
            WriteLiteral("\r\n");
            WriteLiteral("\r\n\r\n");
#nullable restore
#line 8 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
   
     User aktivan = Autenfikacija.GetLogiraniKorisnik(Context);

#line default
#line hidden
#nullable disable
            WriteLiteral("\r\n    <div class=\"container \">\r\n        <div class=\"chatbox__body\">\r\n\r\n            \r\n\r\n\r\n");
#nullable restore
#line 18 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
              
                if(aktivan.UlogaID==2)
                foreach (var x in Model.ListaPoruka)
                {

#line default
#line hidden
#nullable disable
            WriteLiteral(@"                        <div class=""chatbox__body__message chatbox__body__message--left"">

                            <div class=""chatbox_timing"" id=""chat_time"">
                                <ul>
                                    <li><a href=""#""><i class=""fa fa-calendar""></i> ");
#nullable restore
#line 26 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
                                                                              Write(x.DatumPoruke);

#line default
#line hidden
#nullable disable
            WriteLiteral("</a></li>\r\n                                    <li><a href=\"#\"><i class=\"fa fa-clock-o\"></i> ");
#nullable restore
#line 27 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
                                                                             Write(x.VrijemePoruke);

#line default
#line hidden
#nullable disable
            WriteLiteral(@"</a></li>
                                </ul>
                            </div>

                            <div class=""clearfix""></div>
                            <div class=""ul_section_full"" id=""poruka_value"">
                                <ul class=""ul_msg"">
                                    <li><strong>");
#nullable restore
#line 34 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
                                           Write(x.User);

#line default
#line hidden
#nullable disable
            WriteLiteral("</strong></li>\r\n                                    <li>");
#nullable restore
#line 35 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
                                   Write(x.Sadrzaj);

#line default
#line hidden
#nullable disable
            WriteLiteral(" </li>\r\n                                </ul>\r\n\r\n                            </div>\r\n\r\n\r\n\r\n                        </div>\r\n");
#nullable restore
#line 43 "C:\Users\pc\Desktop\rapsudic\webapp\WebApplication1\Views\Chat\Index.cshtml"
                 }



             

#line default
#line hidden
#nullable disable
            WriteLiteral(@"
        <div id=""chatbox_body""></div>
                        <template id=""chat_template"">
                            <div class=""chatbox__body__message chatbox__body__message--left"">

                                <div class=""chatbox_timing"" id=""chat_time"">
                                    <ul>
                                        <li><a href=""#""><i class=""fa fa-calendar""></i> 22/11/2018</a></li>
                                        <li><a href=""#""><i class=""fa fa-clock-o""></i> 7:00 PM</a></li>
                                    </ul>
                                </div>

                                <div class=""clearfix""></div>
                                <div class=""ul_section_full"" id=""poruka_value"">
                                    <ul class=""ul_msg"">
                                        <li><strong>Person Name</strong></li>
                                        <li>Lorem ipsum dolor sit amet, consectetur adipiscing elit. </li>
                            ");
            WriteLiteral(@"        </ul>

                                </div>

                            </div>
                        </template>






                    </div>
                    <div id=""msgbtnDiv""></div>




               



                </div>

");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "2bcc48e0f612bcdd4d97e523d6e9a7c9e5988d498720", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_0);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral("\r\n");
            __tagHelperExecutionContext = __tagHelperScopeManager.Begin("script", global::Microsoft.AspNetCore.Razor.TagHelpers.TagMode.StartTagAndEndTag, "2bcc48e0f612bcdd4d97e523d6e9a7c9e5988d499759", async() => {
            }
            );
            __Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper = CreateTagHelper<global::Microsoft.AspNetCore.Mvc.Razor.TagHelpers.UrlResolutionTagHelper>();
            __tagHelperExecutionContext.Add(__Microsoft_AspNetCore_Mvc_Razor_TagHelpers_UrlResolutionTagHelper);
            __tagHelperExecutionContext.AddHtmlAttribute(__tagHelperAttribute_1);
            await __tagHelperRunner.RunAsync(__tagHelperExecutionContext);
            if (!__tagHelperExecutionContext.Output.IsContentModified)
            {
                await __tagHelperExecutionContext.SetOutputContentAsync();
            }
            Write(__tagHelperExecutionContext.Output);
            __tagHelperExecutionContext = __tagHelperScopeManager.End();
            WriteLiteral(@"
<script>

  

    $(function () {

        $.get(""/Chat/SubmitFormPartial"", function (data) {

            $(""#msgbtnDiv"").html(data);


        });
        //$(""#forma"").submit(function () {
        //    $(""#forma"")[0].reset();
        //});

    });

    var connection = new signalR.HubConnectionBuilder()
        .withUrl(""/chatt"", {
            accessTokenFactory: () => ""testing""
        })
        .build();

    connection.on(""refreshForm"", function () {

       
        $.get(""/Chat/SubmitFormPartial"", function (data) {
           
            $(""#msgbtnDiv"").html(data);


        });


    });
    connection.on(""PrimljenaPoruka"", function (poruka,datum,vrijeme,user) {

       


        var temp = document.getElementById(""chat_template"");
        var vrijemeUl = temp.content.getElementById(""chat_time"").getElementsByTagName(""UL"")[0];
        vrijemeUl.getElementsByTagName(""LI"")[0].innerHTML = datum;
        vrijemeUl.getElementsByTagName(""LI"")[1].innerHTML =");
            WriteLiteral(@" vrijeme;



        var porukaUl = temp.content.getElementById(""poruka_value"").getElementsByTagName(""UL"")[0];
        porukaUl.getElementsByTagName(""LI"")[0].innerHTML = user;
        porukaUl.getElementsByTagName(""LI"")[1].innerHTML = poruka;
        var clon = temp.content.cloneNode(true);
        document.getElementById(""chatbox_body"").appendChild(clon);




    });

  
    


   
    async function start() {
    try {
        await connection.start();
       
    } catch (err) {
        console.log(err);
        setTimeout(start, 5000);
    }
    };

    connection.onclose(start);


    start();



</script>




<!-- END section -->
");
        }
        #pragma warning restore 1998
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.ViewFeatures.IModelExpressionProvider ModelExpressionProvider { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IUrlHelper Url { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.IViewComponentHelper Component { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IJsonHelper Json { get; private set; }
        [global::Microsoft.AspNetCore.Mvc.Razor.Internal.RazorInjectAttribute]
        public global::Microsoft.AspNetCore.Mvc.Rendering.IHtmlHelper<ClassLibrary1.ViewModels.ListaPorukaVM> Html { get; private set; }
    }
}
#pragma warning restore 1591
